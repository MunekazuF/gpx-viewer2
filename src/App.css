/* --- 基本スタイル --- */
body, html, #root {
  margin: 0;
  padding: 0;
  height: 100dvh;
  font-family: sans-serif;
  overflow: hidden;
}

.app-container {
  position: relative; /* ハンバーガーメニューの配置基準 */
  height: 100dvh;
}

/* --- ワイドスクリーン用スタイル (Split.js) --- */
.split {
  display: flex;
  flex-direction: row;
  height: 100dvh;
  overflow: hidden;
}

#main-area.split {
  display: flex;
  flex-direction: column;
  width: 100%;
  position: relative; /* z-indexの基準点にする */
}

.split-vertical {
  overflow: hidden;
  position: relative; /* 子要素の配置基準 */
}

#sidebar {
  background-color: #f0f0f0;
  transition: width 0.3s ease-in-out;
  height: 100dvh;
}

#map-area {
  background-color: #e0e0e0;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: height 0.3s ease-in-out, min-height 0.3s ease-in-out;
}

.leaflet-control-layers {
  z-index: 400 !important;
}

#graph-area {
  background-color: #d0d0d0;
  position: relative; /* z-indexを効かせるため */
  z-index: 500; /* 地図コントロール(400)より手前に表示 */
  transition: height 0.3s ease-in-out, min-height 0.3s ease-in-out;
}

.gutter {
  background-color: #ccc;
  background-repeat: no-repeat;
  background-position: 50%;
}
.gutter.gutter-horizontal {
  cursor: col-resize;
}
.gutter.gutter-vertical {
  cursor: row-resize;
}

.sidebar, .elevation-graph {
  /* padding: 10px; */ /* elevation-graphからは削除 */
  box-sizing: border-box;
  height: 100dvh;
}

.elevation-graph {
  display: flex;
  flex-direction: column;
  padding: 0; /* パディングを削除 */
  box-sizing: border-box;
  height: 100%;
}

.chart-container {
  flex-grow: 1;
  position: relative;
  height: 100%; /* 高さを100%に */
}

.graph-mode-toggle-btn {
  position: absolute;
  top: 10px;
  left: 35px; /* 位置を調整 */
  z-index: 10;
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 5px 10px;
  cursor: pointer;
  font-size: 12px;
}

.graph-mode-toggle-btn:hover {
  background-color: white;
}

.merge-mode-checkbox {
  position: absolute;
  top: 10px;
  right: 10px;
  z-index: 10;
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 5px 10px;
  cursor: pointer;
  display: flex;
  align-items: center;
  font-size: 12px;
}

.merge-mode-checkbox input[type="checkbox"] {
  margin-right: 5px;
}

.merge-mode-checkbox:hover {
  background-color: white;
}

.total-gain-display {
  position: absolute;
  top: 10px;
  left: 120px; /* graph-mode-toggle-btnの右隣に配置 */
  z-index: 10;
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 5px 10px;
  font-size: 12px;
  color: #333;
}

/* --- グラフサイズ調整ボタン --- */
.graph-size-toggle-btn {
  position: absolute;
  bottom: 10px; /* グラフエリアの近くに配置 */
  right: 10px;
  z-index: 501; /* グラフエリアより手前 */
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 2px 8px;
  cursor: pointer;
  font-size: 18px;
  line-height: 1.2;
}

.graph-size-toggle-btn:hover {
  background-color: white;
}

/* Leafletの右下コントロール群全体を少し上にずらす */
.leaflet-bottom.leaflet-right {
  bottom: 45px;
}


/* --- ナロースクリーン用スタイル (レスポンシブ) --- */
.map-area-mobile {
  height: calc(100dvh - 40px); /* トグルボタンの高さを引く */
  width: 100%;
}

.graph-area-mobile {
  height: calc(100dvh - 40px); /* トグルボタンの高さを引く */
  width: 100%;
}

.view-toggle {
  display: flex;
  justify-content: center;
  padding: 0; /* パディングを0に */
  background-color: #f0f0f0;
  height: 40px; /* 固定の高さを指定 */
  position: relative; /* z-indexを効かせるため */
  z-index: 999;
}

.view-toggle button {
  padding: 5px 15px;
  border: 1px solid #ccc;
  background-color: white;
  cursor: pointer;
}

.view-toggle button.active {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}

.view-toggle button:first-child {
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;
}

.view-toggle button:last-child {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  border-left: none;
}

/* --- ナロースクリーン用スタイル (レスポンシブ) --- */
.hamburger-menu {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1003; /* サイドバーより手前に表示 */
  background: white;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 0px 8px; /* パディングを0に */
  height: 28px; /* 高さを40pxに */
  cursor: pointer;
  font-size: 20px;
}

.sidebar-mobile {
  position: absolute;
  top: 0;
  left: 0;
  height: 100dvh;
  width: 300px;
  background-color: #f0f0f0;
  z-index: 1002; /* 1000から1002に変更 */
  transform: translateX(-100%);
  transition: transform 0.3s ease-in-out;
  box-shadow: 2px 0 5px rgba(0,0,0,0.2);
}

.sidebar-mobile.open {
  transform: translateX(0);
}

#main-area-mobile {
  width: 100%;
  height: 100dvh;
  display: flex;
  flex-direction: column;
}

.map-area-mobile {
  height: calc(100dvh - 30px); /* トグルボタンの高さを引く */
  width: 100%;
}

.graph-area-mobile {
  height: calc(100dvh - 30px); /* トグルボタンの高さを引く */
  width: 100%;
}

.view-toggle {
  display: flex;
  justify-content: center;
  padding: 0; /* パディングを0に */
  background-color: #f0f0f0;
  height: 30px; /* 固定の高さを指定 */
  position: relative; /* z-indexを効かせるため */
  z-index: 999;
}

.view-toggle button {
  padding: 5px 15px;
  border: 1px solid #ccc;
  background-color: white;
  cursor: pointer;
}

.view-toggle button.active {
  background-color: #007bff;
  color: white;
  border-color: #007bff;
}

.view-toggle button:first-child {
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;
}

.view-toggle button:last-child {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  border-left: none;
}

/* --- マーカーの色を変更 --- */
.start-marker-icon {
  filter: hue-rotate(240deg); /* 青 -> 緑 */
}

.end-marker-icon {
  filter: hue-rotate(120deg); /* 青 -> 赤 */
}

.sidebar-expand-button {
  position: absolute;
  top: 23px;
  left: 5px;
  transform: translateY(-50%);
  z-index: 1001;
  background-color: #6c757d; 
  color: white;       
  border: none;
  border-radius: 5px;
  padding: 5px 10px;
  cursor: pointer;
  font-weight: bold; 
  border: 1px solid #ccc;
  border-left: none;
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  padding: 5px 10px;
  cursor: pointer;
}

/* メディアクエリ */
@media (min-width: 769px) {
  .app-container {
    display: flex;
  }
  .view-toggle {
    display: none;
  }
  .hamburger-menu, .sidebar-mobile, #main-area-mobile {
    display: none;
  }
}

@media (max-width: 768px) {
  .split, .gutter {
    display: none;
  }
  .app-container {
    display: block;
  }
}
